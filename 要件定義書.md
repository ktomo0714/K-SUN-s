# おみせ開業AI - 要件定義書

## 1. プロジェクト概要

### 1.1 プロジェクト名
**おみせ開業AI - 飲食店開業支援シミュレーションアプリケーション**

### 1.2 プロジェクトの目的
飲食店開業を検討している方が、漠然としたアイデアを具体的なビジネスプランに変換するための簡易シミュレーションツールを提供する。登録不要で誰でも手軽に利用でき、開業の実現可能性を検証できる環境を提供する。

### 1.3 ターゲットユーザー
- 飲食店開業を検討している個人・法人
- 開業前の事業計画を立案したい方
- 業態変更を検討している既存店舗オーナー
- 飲食業界への参入を検討している投資家

### 1.4 プロジェクトスコープ
**含まれるもの:**
- 飲食店ジャンル選択機能
- 基本情報入力フォーム
- KPI予測・収支シミュレーション
- コンセプト提案機能
- 戦略提案機能

**含まれないもの（将来的な拡張候補）:**
- ユーザー登録・ログイン機能
- シミュレーション結果の保存機能
- 詳細な事業計画書のダウンロード機能
- 専門家とのマッチング機能
- 実際のAI（OpenAI API等）との連携

---

## 2. システム要件

### 2.1 技術スタック
- **フレームワーク**: Next.js 14.2.0
- **言語**: TypeScript 5.0
- **UIライブラリ**: React 18.2.0
- **スタイリング**: Tailwind CSS 3.4.0
- **ランタイム**: Node.js 20.0以上

### 2.2 動作環境
- **推奨ブラウザ**: 
  - Chrome（最新版）
  - Firefox（最新版）
  - Safari（最新版）
  - Edge（最新版）
- **デバイス**: PC、タブレット、スマートフォン（レスポンシブ対応）

---

## 3. 機能要件

### 3.1 ホームページ（トップページ）

#### 3.1.1 表示内容
- アプリケーションのタイトルとキャッチコピー
- 簡易シミュレーション開始ボタン
- ログインボタン（現在は準備中）
- 機能説明セクション
  - コンセプト提案
  - KPI予測
  - 収支予測
- シミュレーションフローの説明
  - ステップ1: ジャンル選択
  - ステップ2: 基本情報入力
  - ステップ3: 結果表示

#### 3.1.2 画面遷移
- 「今すぐ始める」ボタンクリック → ジャンル選択ページへ遷移

---

### 3.2 ジャンル選択ページ

#### 3.2.1 機能概要
飲食店のメインカテゴリとサブカテゴリを選択する。

#### 3.2.2 メインカテゴリ（全6カテゴリ）
1. **和食** (🍣)
   - 寿司、天ぷら、ラーメン、うどん・そば、居酒屋、焼鳥、とんかつ、定食屋

2. **洋食** (🍝)
   - イタリアン、フレンチ、ステーキ、ハンバーグ、洋食屋

3. **カフェ** (☕)
   - コーヒー専門店、スイーツカフェ、ランチカフェ、ナイトカフェ

4. **アジア料理** (🥟)
   - 中華料理、韓国料理、タイ料理、ベトナム料理、インド料理

5. **ファストフード** (🍔)
   - ハンバーガー、ピザ、チキン、弁当・惣菜

6. **バー・居酒屋** (🍸)
   - バー、ワインバー、クラフトビール、立ち飲み

#### 3.2.3 画面要素
- ステップインジケーター（現在：ステップ1）
- メインカテゴリ選択ボタン（アイコン+テキスト）
- サブカテゴリ選択ボタン（メインカテゴリ選択後に表示）
- 選択内容サマリー表示
- 「次へ：基本情報を入力する」ボタン

#### 3.2.4 バリデーション
- メインカテゴリとサブカテゴリの両方が選択されている場合のみ、次へ進める

#### 3.2.5 画面遷移
- 「次へ」ボタンクリック → 基本情報入力ページへ遷移
  - クエリパラメータ: `main={メインカテゴリID}&sub={サブカテゴリID}`

---

### 3.3 基本情報入力ページ

#### 3.3.1 機能概要
選択したジャンルの飲食店に関する基本情報を入力する。

#### 3.3.2 入力項目

| 項目名 | 形式 | 必須 | デフォルト値 | バリデーション |
|--------|------|------|-------------|---------------|
| 席数 | 数値入力 | ✓ | 20 | 1〜500の範囲 |
| 客単価（円） | 数値入力 | ✓ | 1,500 | 100〜100,000の範囲 |
| 営業時間 | テキスト入力 | ✓ | 11:00-22:00 | 入力必須 |
| 立地イメージ | ラジオボタン | ✓ | 駅前・駅近 | いずれか選択 |
| ターゲット顧客 | テキスト入力 | - | - | - |
| 特徴・こだわり | テキストエリア | - | - | - |

#### 3.3.3 立地イメージの選択肢
1. **駅前・駅近**: 通勤客や買い物客が多い
2. **オフィス街**: ランチ需要が高い
3. **住宅街**: リピーター獲得しやすい
4. **商業施設内**: 集客力が高い
5. **ロードサイド**: 駐車場確保で車客狙い

#### 3.3.4 画面要素
- ステップインジケーター（現在：ステップ2）
- 選択済みジャンル表示
- 入力フォーム
- エラーメッセージ表示エリア
- 「シミュレーション結果を見る」ボタン

#### 3.3.5 バリデーション
- 席数: 1〜500の範囲チェック
- 客単価: 100〜100,000円の範囲チェック
- 営業時間: 入力必須チェック
- エラーがある場合、該当フィールドに赤枠とエラーメッセージを表示

#### 3.3.6 画面遷移
- 「シミュレーション結果を見る」ボタンクリック → 結果表示ページへ遷移
  - 入力内容を全てクエリパラメータで引き継ぐ

---

### 3.4 結果表示ページ

#### 3.4.1 機能概要
入力された情報を基に、AIが生成したシミュレーション結果を表示する。

#### 3.4.2 表示内容

##### 3.4.2.1 コンセプト提案セクション
- **店舗名案**: 業態に応じた店舗名のサンプル
- **コンセプト**: 立地・特徴を活かしたコンセプトの提案
- **ターゲットへのメッセージ**: ターゲット顧客に向けた訴求メッセージ
- **差別化ポイント**: 3〜4つの差別化要素のリスト

##### 3.4.2.2 KPI予測セクション
| 指標 | 説明 |
|-----|------|
| 月間売上予測 | 予想される月間売上（万円単位） |
| 日次来客数 | 1日あたりの来客数（人） |
| 回転率 | 座席の回転率（回/日） |
| 平均客単価 | 1人あたりの平均支払額（円） |
| 原価率 | 売上に対する原価の割合（%） |
| 人件費率 | 売上に対する人件費の割合（%） |
| 家賃比率 | 売上に対する家賃の割合（%） |

##### 3.4.2.3 収支予測セクション
| 項目 | 説明 |
|-----|------|
| 初期投資 | 開業に必要な初期投資額（万円単位） |
| 月間固定費 | 月々の固定費（万円単位） |
| 月間変動費 | 月々の変動費（万円単位） |
| 損益分岐点 | 投資回収までの月数 |
| 年間利益予測 | 年間の予想利益（万円単位） |

##### 3.4.2.4 戦略提案セクション
- **集客戦略**: 立地に応じたマーケティング施策のリスト
- **オペレーション戦略**: 効率的な運営のための施策リスト
- **メニュー提案**: メニュー構成や価格戦略の提案リスト

#### 3.4.3 画面要素
- ステップインジケーター（現在：ステップ3、全て完了）
- 選択済み情報サマリー
- 各セクションのカード表示
- 「条件を変更して再シミュレーション」ボタン
- 「詳細シミュレーションへ」ボタン（準備中）
- 注意事項表示

#### 3.4.4 ローディング表示
- シミュレーション実行中はローディングアニメーションを表示
- 「シミュレーション結果を生成中...」のメッセージ表示

#### 3.4.5 エラーハンドリング
- API通信エラー時はエラーメッセージを表示
- 「最初からやり直す」ボタンを表示

#### 3.4.6 画面遷移
- 「条件を変更して再シミュレーション」ボタン → ジャンル選択ページへ遷移
- 「ホームに戻る」リンク → トップページへ遷移

---

## 4. 非機能要件

### 4.1 パフォーマンス
- 初期ページロード時間: 3秒以内
- シミュレーション結果生成時間: 5秒以内
- 画面遷移のレスポンス時間: 1秒以内

### 4.2 ユーザビリティ
- レスポンシブデザイン対応（PC、タブレット、スマートフォン）
- 直感的なUI/UX設計
- アクセシビリティ対応（適切な色コントラスト、フォントサイズ）

### 4.3 信頼性
- エラーハンドリングの実装
- バリデーションによる不正入力の防止
- フォールバック処理の実装

### 4.4 保守性
- TypeScriptによる型安全性の確保
- コンポーネントの適切な分割
- コードの可読性・保守性の確保

---

## 5. データ構造

### 5.1 型定義

#### MainCategory（メインカテゴリ）
```typescript
{
  id: string;           // カテゴリID
  name: string;         // カテゴリ名
  icon: string;         // アイコン（絵文字）
  subCategories: SubCategory[];  // サブカテゴリリスト
}
```

#### SubCategory（サブカテゴリ）
```typescript
{
  id: string;           // サブカテゴリID
  name: string;         // サブカテゴリ名
  icon: string;         // アイコン（絵文字）
}
```

#### BasicInfo（基本情報）
```typescript
{
  seats: number;              // 席数
  unitPrice: number;          // 客単価
  openingHours: string;       // 営業時間
  location: LocationType;     // 立地イメージ
  targetCustomer: string;     // ターゲット顧客
  specialFeature: string;     // 特徴・こだわり
}
```

#### SimulationResult（シミュレーション結果）
```typescript
{
  concept: {
    storeName: string;        // 店舗名案
    concept: string;          // コンセプト
    targetMessage: string;    // ターゲットへのメッセージ
    uniquePoints: string[];   // 差別化ポイント
  };
  kpi: {
    monthlyRevenue: number;       // 月間売上予測
    dailyCustomers: number;       // 日次来客数
    turnoverRate: number;         // 回転率
    averageSpending: number;      // 平均客単価
    laborCostRatio: number;       // 人件費率
    foodCostRatio: number;        // 原価率
    rentRatio: number;            // 家賃比率
  };
  financialForecast: {
    initialInvestment: number;    // 初期投資
    monthlyFixedCost: number;     // 月間固定費
    monthlyVariableCost: number;  // 月間変動費
    breakEvenMonths: number;      // 損益分岐点（月数）
    yearlyProfit: number;         // 年間利益予測
  };
  strategy: {
    marketing: string[];          // 集客戦略
    operation: string[];          // オペレーション戦略
    menuRecommendations: string[]; // メニュー提案
  };
}
```

---

## 6. API仕様

### 6.1 シミュレーション実行API

#### エンドポイント
```
POST /api/simulate
```

#### リクエストボディ
```json
{
  "mainCategory": "japanese",
  "subCategory": "ramen",
  "basicInfo": {
    "seats": 20,
    "unitPrice": 1500,
    "openingHours": "11:00-22:00",
    "location": "station",
    "targetCustomer": "30代のビジネスマン",
    "specialFeature": "産地直送の新鮮な食材"
  }
}
```

#### レスポンス（成功時）
```json
{
  "success": true,
  "data": {
    // SimulationResult型のデータ
  }
}
```

#### レスポンス（エラー時）
```json
{
  "success": false,
  "error": "エラーメッセージ"
}
```

---

## 7. シミュレーションロジック

### 7.1 業種別パラメータ
各業種（サブカテゴリ）ごとに以下のパラメータを設定：
- **原価率**: 売上に対する食材原価の割合
- **人件費率**: 売上に対する人件費の割合
- **家賃比率**: 売上に対する家賃の割合
- **回転率**: 1日あたりの座席回転数
- **初期投資/席**: 1席あたりの初期投資額

### 7.2 立地別補正係数
立地によって以下の補正を適用：
- **家賃補正**: 立地による家賃の変動
- **来客数補正**: 立地による集客力の変動

### 7.3 計算式

#### 日次来客数
```
日次来客数 = 席数 × 回転率 × 立地補正（来客数）
```

#### 月間売上
```
月間売上 = 日次来客数 × 客単価 × 25日（月間営業日）
```

#### 月間原価
```
月間原価 = 月間売上 × 原価率
```

#### 月間人件費
```
月間人件費 = 月間売上 × 人件費率
```

#### 月間家賃
```
月間家賃 = 月間売上 × 家賃比率 × 立地補正（家賃）
```

#### 初期投資
```
初期投資 = 席数 × 初期投資/席
```

#### 月間利益
```
月間利益 = 月間売上 - 月間原価 - 月間人件費 - 月間家賃 - その他経費
```

#### 損益分岐点
```
損益分岐点（月） = 初期投資 ÷ 月間利益
```

---

## 8. UI/UXデザイン指針

### 8.1 デザインコンセプト
- **親しみやすさ**: 飲食店開業という夢を後押しする温かみのあるデザイン
- **信頼性**: 数値やデータの正確性を感じさせるプロフェッショナルな印象
- **わかりやすさ**: 複雑な情報を視覚的に整理された形で提供

### 8.2 カラースキーム
- **プライマリカラー**: ブルー系（信頼感、誠実さ）
- **セカンダリカラー**: グリーン系（成長、成功）
- **アクセントカラー**: オレンジ系（活力、情熱）
- **背景**: グラデーション（青→白）

### 8.3 タイポグラフィ
- **見出し**: 太字、大きめのフォントサイズ
- **本文**: 読みやすい行間とフォントサイズ
- **数値**: 強調表示で視認性を高める

### 8.4 アイコンの使用
- 各セクションに適切な絵文字アイコンを配置
- 視覚的な情報整理とユーザー体験の向上

---

## 9. 制約事項と注意点

### 9.1 シミュレーション結果の精度
- 本システムが提供する数値は、業界平均値に基づく概算である
- 実際の経営結果を保証するものではない
- 詳細な事業計画には専門家への相談が必要

### 9.2 データの永続化
- 現バージョンではユーザーデータの保存機能がない
- ブラウザを閉じると入力内容がリセットされる

### 9.3 AI機能の実装状況
- 現在はルールベースのアルゴリズムで結果を生成
- 将来的にはOpenAI API等の本格的なAIとの連携を検討

---

## 10. 今後の拡張計画

### 10.1 フェーズ1（現行）
- ✅ 簡易シミュレーション機能
- ✅ ジャンル選択・基本情報入力
- ✅ 結果表示

### 10.2 フェーズ2（将来）
- ユーザー登録・ログイン機能
- シミュレーション結果の保存機能
- 複数シミュレーションの比較機能
- PDF形式での結果出力

### 10.3 フェーズ3（将来）
- 本格的なAI（OpenAI API）との連携
- より詳細な事業計画書の自動生成
- 専門家とのマッチング機能
- 実際の開業事例データベースの構築

---

## 11. 成果物

### 11.1 ソースコード
- Next.jsプロジェクト一式
- TypeScript型定義ファイル
- Tailwind CSS設定ファイル

### 11.2 ドキュメント
- 本要件定義書
- package.json（依存関係）

---

## 12. プロジェクト情報

**プロジェクト名**: おみせ開業AI  
**バージョン**: 0.1.0  
**開発元**: K SUN's  
**作成日**: 2025年11月  
**更新日**: 2025年11月  

---

## 付録A: 画面遷移図

```
[ホームページ]
    ↓ 「今すぐ始める」
[ジャンル選択]
    ↓ 「次へ」
[基本情報入力]
    ↓ 「シミュレーション結果を見る」
[結果表示]
    ↓ 「条件を変更」
[ジャンル選択] ← ループ
```

## 付録B: 業種別パラメータ一覧

主要な業種のパラメータ例：

| 業種 | 原価率 | 人件費率 | 家賃比率 | 回転率 | 初期投資/席 |
|------|--------|----------|----------|--------|-------------|
| ラーメン | 30% | 25% | 12% | 4.0回 | 50,000円 |
| 寿司 | 35% | 30% | 10% | 2.0回 | 80,000円 |
| カフェ | 25% | 30% | 12% | 3.0回 | 60,000円 |
| イタリアン | 32% | 28% | 10% | 2.0回 | 70,000円 |
| 居酒屋 | 30% | 28% | 10% | 1.5回 | 60,000円 |

---

**以上**

